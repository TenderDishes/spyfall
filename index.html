<!DOCTYPE html>
<!-- https://github.com/TenderDishes/spyfall -->
<html lang="de">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>SPY_WIP</title>
        <link rel="stylesheet" type="text/css" href="css/index.css" />
    </head>
    <body>
        <!-- using a custom element -->
        <bluetac-loading-overlay>
            Loading...
        </bluetac-loading-overlay>

        <!-- load all custom elements -->
        <script src="js/customElements/BlueTac/locationGrid.js"></script>
        <script src="js/customElements/BlueTac/startScreen.js"></script>
        <script src="js/customElements/BlueTac/loadingOverlay.js"></script>
        <script src="js/customElements/BlueTac/roleAssignment.js"></script>
        <script src="js/customElements/BlueTac/gameRunning.js"></script>
        <script src="js/customElements/BlueTac/endScreen.js"></script>
        <script src="js/gameRoutine.js"></script>

        <script type="text/javascript">
            'use strict';

            /*
            helper class, when removed all logger.log() calls throw an error in the console -> the logging can be removed reliable
            */
            class Logger {
                constructor(mode) {
                    this.mode = mode;
                }

                log(variable) {
                    if (this.mode === 'debug') {
                        console.log(variable);
                    }
                }
            }
            var logger = new Logger('debug');

            let Game = new GameRoutine();


            const URL = 'https://bluetac.de/Spyfall/';

            if ('serviceWorker' in navigator) {
                window.addEventListener('load', function () {
                    navigator.serviceWorker.register('/Spyfall/sw.js', {
                        scope: URL
                    }).then(registration => {
                        console.log("Service Worker registration completed ...");
                    });
                });
            }
        </script>
    </body>
</html>
